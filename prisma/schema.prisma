generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Record {
  id        Int      @id @default(autoincrement())
  data      String // Armazena o JSON serializado
  createdAt DateTime @default(now())
  // Campos normalizados (opcionais) para relatórios consistentes e rápidos
  secretaria String?
  setor      String?
  tipo       String?
  categoria  String?
  bairro     String?
  status     String?
  dataIso    String? // YYYY-MM-DD
  // Novos campos alinhados com painel Looker Studio
  uac         String? // Unidade de Atendimento ao Cidadão
  responsavel String? // Responsável pelo tratamento (Ouvidorias)
  canal       String? // Canal de entrada (Presencial, Telefone, etc.)
  prioridade  String? // Prioridade (Alta, Média, Baixa)
  servidor    String? // Servidor/Cadastrante
  tema        String? // Tema (ex: Saúde, Educação, etc.)
  assunto     String? // Assunto específico (ex: Atendimento, Marcação de Consulta, etc.)
  dataConclusaoIso String? // YYYY-MM-DD - Data de conclusão para calcular tempo médio

  @@index([secretaria])
  @@index([setor])
  @@index([tipo])
  @@index([categoria])
  @@index([bairro])
  @@index([status])
  @@index([dataIso])
  @@index([uac])
  @@index([responsavel])
  @@index([canal])
  @@index([prioridade])
  @@index([servidor])
  @@index([tema])
  @@index([assunto])
  @@index([dataConclusaoIso])
}


