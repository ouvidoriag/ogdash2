<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ouvidoria - Duque de Caxias - Dashboard</title>
    <link rel="icon" type="image/png" href="/dc-logo.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <style>
      :root {
        --bg: #0b1020;
        --panel: #0f172a;
        --muted: #94a3b8;
        --primary: #22d3ee;
        --accent: #a78bfa;
        --success: #34d399;
        --danger: #fb7185;
        --text-primary: #f1f5f9;
        --text-secondary: #cbd5e1;
        --border: rgba(255,255,255,0.08);
      }
      
      /* Modo Escuro (padr√£o) */
      body.dark-mode,
      body:not(.light-mode) {
        --bg: #0b1020;
        --panel: #0f172a;
        --muted: #94a3b8;
        --text-primary: #f1f5f9;
        --text-secondary: #cbd5e1;
        --border: rgba(255,255,255,0.08);
      }
      
      /* Modo Claro */
      body.light-mode {
        --bg: #f5f7fb;
        --panel: #ffffff;
        --muted: #334155;
        --text-primary: #0f172a;
        --text-secondary: #1e293b;
        --border: rgba(15,23,42,0.12);
        --light-accent: #e0f2ff;
        --light-soft: #eef2ff;
      }
      
      body { 
        background: radial-gradient(1200px 600px at top left, rgba(34,211,238,0.08), transparent 60%), 
                    radial-gradient(1200px 600px at bottom right, rgba(167,139,250,0.08), transparent 60%), 
                    var(--bg);
        color: var(--text-primary);
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      
      body.light-mode {
        background: radial-gradient(1500px 700px at top left, rgba(34,211,238,0.12), transparent 60%), 
                    radial-gradient(1500px 700px at bottom right, rgba(167,139,250,0.12), transparent 60%), 
                    linear-gradient(160deg, #f8fbff 0%, #eef2ff 35%, #e0f2ff 100%);
      }
      
      .glass { 
        background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); 
        box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08); 
        border: 1px solid var(--border);
        transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
      }
      
      body.light-mode .glass {
        background: linear-gradient(180deg, rgba(255,255,255,0.97), rgba(255,255,255,0.9)); 
        box-shadow: 0 18px 40px rgba(15,23,42,0.12), inset 0 1px 0 rgba(255,255,255,0.85); 
        border: 1px solid rgba(148,163,184,0.25);
      }

      body.light-mode .glass .section-title,
      body.light-mode .glass .text-xs {
        color: var(--text-primary) !important;
      }

      body.light-mode .glass .muted-label {
        color: var(--text-secondary) !important;
      }
      
      body.light-mode .glass {
        color: var(--text-primary) !important;
      }
      
      body.light-mode .glass * {
        color: inherit;
      }
      
      .neon { text-shadow: 0 0 12px rgba(34,211,238,0.65), 0 0 24px rgba(167,139,250,0.45); }
      body.light-mode .neon { text-shadow: 0 0 8px rgba(34,211,238,0.4), 0 0 16px rgba(167,139,250,0.3); }
      
      .glow-ring { box-shadow: 0 0 0 2px rgba(34,211,238,0.15), 0 0 32px rgba(34,211,238,0.25); }
      body.light-mode .glow-ring { box-shadow: 0 0 0 2px rgba(34,211,238,0.2), 0 0 24px rgba(34,211,238,0.3); }
      
      .skeleton { background: rgba(255,255,255,0.06); }
      body.light-mode .skeleton { background: rgba(148,163,184,0.15); }
      
      /* Estilos para gr√°ficos e KPIs clic√°veis e interligados */
      .chart-clickable {
        transition: all 0.2s ease;
      }
      .chart-clickable:hover {
        transform: scale(1.02);
        box-shadow: 0 0 20px rgba(34, 211, 238, 0.2);
      }
      
      .kpi-clickable {
        transition: all 0.2s ease;
        border: 1px solid transparent;
      }
      .kpi-clickable:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        border-color: rgba(34, 211, 238, 0.3);
      }
      .kpi-clickable.kpi-active {
        border-color: rgba(34, 211, 238, 0.5) !important;
        background: rgba(34, 211, 238, 0.05) !important;
        box-shadow: 0 0 20px rgba(34, 211, 238, 0.15);
      }
      
      body.light-mode .kpi-clickable:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      body.light-mode .kpi-clickable.kpi-active {
        border-color: rgba(34, 211, 238, 0.4) !important;
        background: rgba(34, 211, 238, 0.1) !important;
      }
      
      canvas { max-height: 340px; }
      
      /* Bot√£o de altern√¢ncia de tema */
      .theme-toggle-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
      }
      
      .theme-toggle {
        position: relative;
        width: 50px;
        height: 26px;
        background: rgba(255,255,255,0.1);
        border-radius: 13px;
        border: 1px solid var(--border);
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }
      
      body.light-mode .theme-toggle {
        background: rgba(0,0,0,0.1);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      }
      
      .theme-toggle::before {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fbbf24;
        top: 2px;
        left: 2px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      
      body.light-mode .theme-toggle::before {
        left: calc(100% - 22px);
        background: #f59e0b;
      }
      
      .theme-toggle:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 16px rgba(0,0,0,0.2);
      }
      
      body.light-mode .theme-toggle:hover {
        box-shadow: 0 6px 16px rgba(0,0,0,0.15);
      }
      
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
      
      nav[id="sideMenuOuvidoria"] div[data-page].active,
      nav[id="sideMenuZeladoria"] div[data-page].active {
        background: linear-gradient(90deg, rgba(34,211,238,0.15) 0%, rgba(34,211,238,0.05) 100%);
        border-left: 3px solid #22d3ee;
        color: #22d3ee;
        font-weight: 600;
      }
      
      body.light-mode nav[id="sideMenuOuvidoria"] div[data-page].active,
      body.light-mode nav[id="sideMenuZeladoria"] div[data-page].active {
        background: linear-gradient(90deg, rgba(34,211,238,0.25) 0%, rgba(34,211,238,0.15) 100%);
        border-left: 3px solid #0891b2;
        color: #0e7490 !important;
        font-weight: 600;
      }
      
      nav[id="sideMenuOuvidoria"] div[data-page]:hover:not(.active),
      nav[id="sideMenuZeladoria"] div[data-page]:hover:not(.active) {
        background: rgba(255,255,255,0.05);
      }
      
      body.light-mode nav[id="sideMenuOuvidoria"] div[data-page]:hover:not(.active),
      body.light-mode nav[id="sideMenuZeladoria"] div[data-page]:hover:not(.active) {
        background: rgba(0,0,0,0.05);
      }
      
      .section-selector {
        background: transparent;
        color: #94a3b8;
        border: none;
      }
      
      body.light-mode .section-selector {
        color: #64748b;
      }
      
      .section-selector.active {
        background: linear-gradient(90deg, rgba(34,211,238,0.15) 0%, rgba(34,211,238,0.05) 100%);
        color: #22d3ee;
        font-weight: 600;
      }
      
      body.light-mode .section-selector.active {
        background: linear-gradient(90deg, rgba(34,211,238,0.25) 0%, rgba(34,211,238,0.15) 100%);
        color: #0e7490 !important;
        font-weight: 600;
      }
      
      .section-selector:hover:not(.active) {
        background: rgba(255,255,255,0.05);
        color: #cbd5e1;
      }
      
      body.light-mode .section-selector:hover:not(.active) {
        background: rgba(0,0,0,0.05);
        color: #475569;
      }
      
      :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar {
        width: 12px;
        height: 12px;
      }
      :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar-track {
        background: transparent;
      }
      :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #0a0a0a, #1a1a1a);
        border-radius: 10px;
        border: 2px solid transparent;
        background-clip: padding-box;
      }
      :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #111, #222);
      }
      
      body.light-mode :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #cbd5e1, #94a3b8);
      }
      body.light-mode :where(.overflow-y-auto, .overflow-auto, .overflow-y-scroll)::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #94a3b8, #64748b);
      }
      
      /* Ajustes de texto para modo claro */
      body.light-mode .text-slate-100 { color: #0f172a !important; }
      body.light-mode .text-slate-200 { color: #0f172a !important; }
      body.light-mode .text-slate-300 { color: #1e293b !important; }
      body.light-mode .text-slate-400 { color: #334155 !important; }
      body.light-mode .text-slate-500,
      body.light-mode .text-slate-600 { color: #475569 !important; }
      body.light-mode [class~="text-white"],
      body.light-mode [class*="text-white/"] { color: #0f172a !important; }
      body.light-mode .text-gray-200,
      body.light-mode .text-gray-300,
      body.light-mode .text-gray-400 { color: #1e293b !important; }
      body.light-mode .text-gray-500,
      body.light-mode .text-gray-600 { color: #334155 !important; }
      body.light-mode .bg-slate-800\/30 { background-color: rgba(30,41,59,0.15) !important; }
      body.light-mode .bg-slate-800\/50 { background-color: rgba(30,41,59,0.2) !important; }
      body.light-mode .bg-slate-900\/30 { background-color: rgba(15,23,42,0.12) !important; }
      body.light-mode .bg-slate-900\/50 { background-color: rgba(15,23,42,0.18) !important; }
      body.light-mode .bg-white\/5 { background-color: rgba(0,0,0,0.05) !important; }
      
      /* Ajustes de hover para modo claro */
      body.light-mode .hover\:bg-white\/5:hover { background-color: rgba(0,0,0,0.05) !important; }
      
      /* Ajustes de bordas para modo claro */
      body.light-mode .border-white\/10 { border-color: rgba(0,0,0,0.1) !important; }
      body.light-mode .border-white\/5 { border-color: rgba(0,0,0,0.05) !important; }
      
      /* Ajustes de cores de texto espec√≠ficas para modo claro */
      body.light-mode .text-violet-300 { color: #7c3aed !important; }
      body.light-mode .text-cyan-300 { color: #0891b2 !important; }
      body.light-mode .text-emerald-300 { color: #059669 !important; }
      body.light-mode .text-amber-300 { color: #d97706 !important; }
      body.light-mode .text-blue-300 { color: #2563eb !important; }
      body.light-mode .text-rose-300 { color: #e11d48 !important; }
      body.light-mode .text-emerald-400 { color: #10b981 !important; }
      
      /* Ajustes de backgrounds com opacidade para modo claro */
      body.light-mode .bg-cyan-500\/20 { background-color: rgba(6,182,212,0.15) !important; }
      body.light-mode .bg-violet-500\/20 { background-color: rgba(139,92,246,0.15) !important; }
      body.light-mode .bg-blue-500\/20 { background-color: rgba(59,130,246,0.15) !important; }
      body.light-mode .bg-amber-500\/20 { background-color: rgba(245,158,11,0.15) !important; }
      body.light-mode .bg-emerald-500\/20 { background-color: rgba(16,185,129,0.15) !important; }
      body.light-mode .bg-emerald-600\/20 { background-color: rgba(5,150,105,0.15) !important; }
      body.light-mode .bg-rose-500\/20 { background-color: rgba(244,63,94,0.15) !important; }
      
      /* Ajustes de barras de progresso */
      body.light-mode .bg-slate-800 { background-color: rgba(30,41,59,0.3) !important; }
      
      /* Ajustes de distritos e itens interativos */
      body.light-mode .hover\:border-cyan-400\/50:hover { border-color: rgba(6,182,212,0.4) !important; }
      
      /* Ajustes de chat */
      body.light-mode .bg-slate-800\/60 { background-color: rgba(30,41,59,0.25) !important; }
      
      /* Garantir que todos os textos sejam leg√≠veis */
      body.light-mode .text-slate-200 { color: #1e293b !important; }
      body.light-mode .text-slate-300 { color: #334155 !important; }
      body.light-mode .text-slate-400 { color: #475569 !important; }
      
      /* Ajustes adicionais para elementos espec√≠ficos */
      body.light-mode .border-emerald-500\/20 { border-color: rgba(16,185,129,0.2) !important; }
      
      /* Ajustes para bot√µes de marcar/desmarcar todos */
      body.light-mode .btn-marcar-todos {
        background-color: rgba(6,182,212,0.15) !important;
        color: #0891b2 !important;
      }
      body.light-mode .btn-marcar-todos:hover {
        background-color: rgba(6,182,212,0.25) !important;
        color: #0e7490 !important;
      }
      body.light-mode .btn-desmarcar-todos {
        background-color: rgba(30,41,59,0.2) !important;
        color: #475569 !important;
      }
      body.light-mode .btn-desmarcar-todos:hover {
        background-color: rgba(30,41,59,0.3) !important;
        color: #334155 !important;
      }
      
      /* Ajustes para controles de legenda */
      body.light-mode .legend-controls {
        border-top-color: rgba(0,0,0,0.1) !important;
      }
      
      /* Ajustes para itens de legenda */
      body.light-mode .legend-item {
        border-color: rgba(0,0,0,0.1) !important;
      }
      body.light-mode .legend-item:hover {
        background-color: rgba(0,0,0,0.05) !important;
      }
      body.light-mode .legend-item.border-white\/20 {
        border-color: rgba(0,0,0,0.2) !important;
      }
      
      /* For√ßar cores escuras em todos os textos no modo claro */
      body.light-mode * {
        color: inherit;
      }
      
      body.light-mode h1,
      body.light-mode h2,
      body.light-mode h3,
      body.light-mode h4,
      body.light-mode h5,
      body.light-mode h6 {
        color: #0f172a !important;
      }
      
      body.light-mode p,
      body.light-mode span,
      body.light-mode div:not(.glass) {
        color: inherit;
      }
    </style>
    <script>
      // Sistema de altern√¢ncia de tema (modo claro/escuro)
      (function() {
        const THEME_KEY = 'dashboard-theme';
        const LIGHT_MODE = 'light';
        const DARK_MODE = 'dark';
        
        // Carregar tema salvo ou usar padr√£o (escuro)
        function loadTheme() {
          const savedTheme = localStorage.getItem(THEME_KEY) || DARK_MODE;
          applyTheme(savedTheme);
        }
        
        // Aplicar tema
        function applyTheme(theme) {
          const body = document.body;
          if (theme === LIGHT_MODE) {
            body.classList.remove('dark-mode');
            body.classList.add('light-mode');
          } else {
            body.classList.remove('light-mode');
            body.classList.add('dark-mode');
          }
          localStorage.setItem(THEME_KEY, theme);
          
          // Atualizar gr√°ficos se Chart.js estiver dispon√≠vel
          if (window.Chart) {
            const textColor = theme === LIGHT_MODE ? '#1e293b' : '#94a3b8';
            const gridColor = theme === LIGHT_MODE ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.05)';
            const tooltipBg = theme === LIGHT_MODE ? 'rgba(255, 255, 255, 0.98)' : 'rgba(15, 23, 42, 0.95)';
            const tooltipTitleColor = theme === LIGHT_MODE ? '#0f172a' : '#e2e8f0';
            const tooltipBodyColor = theme === LIGHT_MODE ? '#1e293b' : '#cbd5e1';
            const tooltipBorderColor = theme === LIGHT_MODE ? 'rgba(15,23,42,0.2)' : 'rgba(34, 211, 238, 0.3)';
            
            // Atualizar todos os gr√°ficos Chart.js
            Chart.helpers.each(Chart.instances, function(chart) {
              if (chart.options && chart.options.scales) {
                Object.keys(chart.options.scales).forEach(scaleKey => {
                  const scale = chart.options.scales[scaleKey];
                  if (scale.ticks) {
                    scale.ticks.color = textColor;
                    scale.ticks.font = scale.ticks.font || {};
                    scale.ticks.font.weight = '500';
                  }
                  if (scale.grid) {
                    scale.grid.color = gridColor;
                    scale.grid.lineWidth = theme === LIGHT_MODE ? 1 : 1;
                  }
                });
              }
              
              if (chart.options && chart.options.plugins) {
                if (chart.options.plugins.tooltip) {
                  const tooltip = chart.options.plugins.tooltip;
                  if (tooltip.backgroundColor !== undefined) tooltip.backgroundColor = tooltipBg;
                  if (tooltip.titleColor !== undefined) tooltip.titleColor = tooltipTitleColor;
                  if (tooltip.bodyColor !== undefined) tooltip.bodyColor = tooltipBodyColor;
                  if (tooltip.borderColor !== undefined) tooltip.borderColor = tooltipBorderColor;
                }
                
                // Atualizar legendas se existirem
                if (chart.options.plugins.legend) {
                  chart.options.plugins.legend.labels = chart.options.plugins.legend.labels || {};
                  chart.options.plugins.legend.labels.color = textColor;
                }
              }
              
              chart.update('none');
            });
          }
        }
        
        // Alternar tema
        function toggleTheme() {
          const currentTheme = localStorage.getItem(THEME_KEY) || DARK_MODE;
          const newTheme = currentTheme === LIGHT_MODE ? DARK_MODE : LIGHT_MODE;
          applyTheme(newTheme);
        }
        
        // Inicializar quando DOM estiver pronto
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', loadTheme);
        } else {
          loadTheme();
        }
        
        // Adicionar event listener ao bot√£o quando dispon√≠vel
        function initThemeToggle() {
          const toggleBtn = document.getElementById('themeToggle');
          if (toggleBtn) {
            toggleBtn.addEventListener('click', toggleTheme);
          } else {
            // Tentar novamente ap√≥s um pequeno delay
            setTimeout(initThemeToggle, 100);
          }
        }
        
        initThemeToggle();
        
        // Exportar para uso global se necess√°rio
        window.themeManager = {
          toggle: toggleTheme,
          set: applyTheme,
          get: () => localStorage.getItem(THEME_KEY) || DARK_MODE
        };
      })();
      
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(reg => {
              if (window.Logger) {
                window.Logger.success('Service Worker registrado:', reg.scope);
              } else {
                console.log('‚úÖ Service Worker registrado:', reg.scope);
              }
            })
            .catch(err => {
              if (window.Logger) {
                window.Logger.warn('Service Worker n√£o registrado:', err);
              }
            });
        });
      }
    </script>
  </head>
  <body class="text-slate-100">
    <!-- Bot√£o de altern√¢ncia de tema fixo no topo direito -->
    <div class="theme-toggle-container">
      <button id="themeToggle" class="theme-toggle" title="Alternar entre modo claro e escuro" aria-label="Alternar tema">
        <span class="sr-only">Alternar tema</span>
      </button>
    </div>
    
    <div class="min-h-screen grid grid-cols-12 gap-6 p-6">
      <aside class="col-span-12 lg:col-span-3 xl:col-span-2 glass rounded-2xl p-5">
        <div class="mb-6">
          <div class="flex items-center mb-4">
            <div class="flex items-center gap-3">
              <img src="/dc-logo.png" alt="Duque de Caxias" class="h-12 w-auto object-contain" />
              <div>
                <div id="sectionTitle" class="text-lg font-semibold">Ouvidoria</div>
                <div class="text-xs text-slate-400">Dashboard Futurista</div>
              </div>
            </div>
          </div>
          <div class="flex gap-2 bg-slate-800/50 rounded-lg p-1">
            <button id="btnSectionOuvidoria" data-section="ouvidoria" class="flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all section-selector active">
              üìã Ouvidoria
            </button>
            <button id="btnSectionZeladoria" data-section="zeladoria" class="flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all section-selector">
              üèóÔ∏è Zeladoria
            </button>
          </div>
        </div>
        
        <nav id="sideMenuOuvidoria" class="space-y-3 text-sm">
          <div class="space-y-1">
            <div data-page="home" class="active px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè† Home</div>
            <div data-page="main" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìä Vis√£o Geral</div>
            <a href="/chat" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer block transition-colors">üí¨ Cora - Chat</a>
          </div>
          
          <div class="space-y-1 pt-2 border-t border-white/10">
            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider px-3 mb-2">üìä An√°lises Principais</div>
            <div data-page="orgao-mes" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè¢ Por √ìrg√£o e M√™s</div>
            <div data-page="tempo-medio" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">‚è±Ô∏è Tempo M√©dio</div>
            <div data-page="vencimento" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">‚è∞ Vencimento</div>
            <div data-page="tema" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìë Por Tema</div>
            <div data-page="assunto" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìù Por Assunto</div>
            <div data-page="cadastrante" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üë§ Por Cadastrante</div>
            <div data-page="reclamacoes" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üö® Reclama√ß√µes e Den√∫ncias</div>
            <div data-page="projecao-2026" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìà Proje√ß√£o 2026</div>
          </div>
          
          <div class="space-y-1 pt-2 border-t border-white/10">
            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider px-3 mb-2">üìà Relat√≥rios por Dimens√£o</div>
            <div data-page="secretaria" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üèõÔ∏è Secretarias</div>
            <div data-page="secretarias-distritos" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üó∫Ô∏è Secretarias e Distritos</div>
            <div data-page="tipo" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìã Tipos</div>
            <div data-page="status" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìä Status</div>
            <div data-page="categoria" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìÇ Categoria</div>
            <div data-page="setor" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè¢ Setor</div>
            <div data-page="responsavel" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üë• Respons√°veis</div>
            <div data-page="canal" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üì° Canais</div>
            <div data-page="prioridade" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">‚ö° Prioridades</div>
            <div data-page="bairro" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìç Bairro</div>
            <div data-page="uac" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè¢ UAC</div>
          </div>
          
          <div class="space-y-1 pt-2 border-t border-white/10">
            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider px-3 mb-2">üè• Unidades de Sa√∫de</div>
            <div data-page="unidades-saude" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè• Unidades de Sa√∫de</div>
          </div>
        </nav>
        
        <nav id="sideMenuZeladoria" class="space-y-3 text-sm" style="display: none;">
          <div class="space-y-1">
            <div data-page="zeladoria-home" class="active px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè† Home Zeladoria</div>
            <div data-page="zeladoria-overview" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìä Vis√£o Geral</div>
          </div>
          
          <div class="space-y-1 pt-2 border-t border-white/10">
            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider px-3 mb-2">üìä An√°lises Principais</div>
            <div data-page="zeladoria-status" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìä Por Status</div>
            <div data-page="zeladoria-categoria" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìÇ Por Categoria</div>
            <div data-page="zeladoria-departamento" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üè¢ Por Departamento</div>
            <div data-page="zeladoria-bairro" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìç Por Bairro</div>
            <div data-page="zeladoria-responsavel" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üë• Por Respons√°vel</div>
            <div data-page="zeladoria-canal" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üì° Por Canal</div>
            <div data-page="zeladoria-tempo" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">‚è±Ô∏è Tempo de Resolu√ß√£o</div>
          </div>
          
          <div class="space-y-1 pt-2 border-t border-white/10">
            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider px-3 mb-2">üìà Relat√≥rios</div>
            <div data-page="zeladoria-mensal" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üìÖ An√°lise Mensal</div>
            <div data-page="zeladoria-geografica" class="px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors">üó∫Ô∏è An√°lise Geogr√°fica</div>
          </div>
        </nav>
        
        <div class="mt-8 pt-6 border-t border-white/10">
          <div class="text-xs font-semibold text-slate-300 mb-4 uppercase tracking-wider">Equipe Respons√°vel</div>
          <div class="space-y-3 text-xs">
            <div class="pb-2 border-b border-white/5">
              <div class="text-slate-400 mb-1">Ouvidoria Geral</div>
              <div class="text-slate-200 font-medium">Edrisio Avelino</div>
              <div class="text-slate-500 text-[10px] mt-0.5">Ouvidor Geral</div>
            </div>
            <div class="space-y-2">
              <div>
                <div class="text-slate-200 font-medium">Nilton Quaresma</div>
                <div class="text-slate-500 text-[10px]">Diretor de Ouvidoria</div>
              </div>
              <div>
                <div class="text-slate-200 font-medium">David Freitas</div>
                <div class="text-slate-500 text-[10px]">Diretor de An√°lise de Dados</div>
              </div>
            </div>
            <div class="pt-2 mt-2 border-t border-white/5">
              <div class="text-slate-400 mb-2 text-[10px] uppercase tracking-wide">Analistas Estrat√©gicos da Ouvidoria</div>
              <div class="space-y-1 text-slate-300">
                <div class="text-[11px]">‚Ä¢ Nikolas Brian</div>
                <div class="text-[11px]">‚Ä¢ Rildo Luiz</div>
                <div class="text-[11px]">‚Ä¢ Wellington Ribeiro</div>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <main id="pages" class="col-span-12 lg:col-span-9 xl:col-span-10 space-y-6">
        <div id="filterIndicator" class="hidden fixed top-4 left-1/2 transform -translate-x-1/2 z-50"></div>
        <div id="pageTitle" class="mb-4"></div>
        
        <section id="page-home" class="">
          <div class="glass rounded-2xl p-8 md:p-12 text-center">
            <div class="mb-8">
              <div class="inline-block relative">
                <div class="w-32 h-32 md:w-40 md:h-40 mx-auto rounded-full bg-gradient-to-br from-cyan-400 via-purple-500 to-pink-500 flex items-center justify-center text-6xl md:text-7xl">
                  ü§ñ
                </div>
              </div>
            </div>
            
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4 neon">
              Ol√°, Gestor Municipal! üëã
            </h1>
            <h2 class="text-2xl md:text-4xl font-bold text-cyan-300 mb-8">
              Eu sou a <span class="text-purple-400">Cora</span>
            </h2>
            
            <p class="text-lg md:text-xl text-slate-300 mb-12 max-w-3xl mx-auto">
              Sua assistente virtual inteligente especializada em an√°lises de ouvidoria
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">üí¨</div>
                <h3 class="text-xl font-bold text-cyan-300 mb-2">Chat Inteligente</h3>
                <p class="text-sm text-slate-400">
                  Fa√ßa perguntas em linguagem natural e receba respostas precisas baseadas em dados reais
                </p>
              </div>
              
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">üìä</div>
                <h3 class="text-xl font-bold text-purple-300 mb-2">An√°lises em Tempo Real</h3>
                <p class="text-sm text-slate-400">
                  Acesso direto ao banco de dados para fornecer informa√ß√µes atualizadas e precisas
                </p>
              </div>
              
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">üß†</div>
                <h3 class="text-xl font-bold text-pink-300 mb-2">Processamento Inteligente</h3>
                <p class="text-sm text-slate-400">
                  An√°lise avan√ßada de dados com capacidade de c√°lculos matem√°ticos e an√°lises estat√≠sticas
                </p>
              </div>
            </div>
            
            <div class="mt-8">
              <a href="/chat" class="inline-block px-8 py-4 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-xl font-bold text-lg hover:scale-105 transition-transform duration-100 glow-ring">
                üöÄ Come√ßar a Conversar com a Cora
              </a>
            </div>
          </div>
        </section>
        
        <section id="page-main" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <div class="flex items-center gap-4">
              <img src="/dc-logo.png" alt="Duque de Caxias" class="h-14 w-auto object-contain" />
              <div>
                <h1 class="text-xl md:text-2xl font-bold neon">Vis√£o Geral ‚Ä¢ Intelig√™ncia Estrat√©gicas</h1>
                <div class="text-slate-400 text-xs">Dados interligados: clique para filtrar todo o painel</div>
              </div>
            </div>
          </header>

          <!-- ============================================ -->
          <!-- SE√á√ÉO 1: RESUMO EXECUTIVO - KPIs Principais -->
          <!-- ============================================ -->
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-cyan-400 uppercase tracking-wider px-3">üìä Resumo Executivo</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 md:col-span-4 glass rounded-2xl p-5">
                <div class="flex items-center justify-between mb-2">
                  <div class="text-slate-400 text-sm font-medium">Total de Manifesta√ß√µes</div>
                  <div class="text-2xl">üìà</div>
                </div>
                <div class="flex items-end gap-3 mt-2">
                  <div id="kpiTotal" class="text-3xl font-extrabold text-cyan-300">‚Äî</div>
                  <div id="kpiTotalDelta" class="text-xs text-slate-400 mb-1">‚Äî</div>
                </div>
                <canvas id="sparkTotal" height="32" class="mt-3"></canvas>
              </div>
              <div class="col-span-12 md:col-span-4 glass rounded-2xl p-5">
                <div class="flex items-center justify-between mb-2">
                  <div class="text-slate-400 text-sm font-medium">√öltimos 7 dias</div>
                  <div class="text-2xl">üìÖ</div>
                </div>
                <div class="flex items-end gap-3 mt-2">
                  <div id="kpi7" class="text-3xl font-extrabold text-violet-300">‚Äî</div>
                  <div id="kpi7Delta" class="text-xs text-slate-400 mb-1">‚Äî</div>
                </div>
                <canvas id="spark7" height="32" class="mt-3"></canvas>
              </div>
              <div class="col-span-12 md:col-span-4 glass rounded-2xl p-5">
                <div class="flex items-center justify-between mb-2">
                  <div class="text-slate-400 text-sm font-medium">√öltimos 30 dias</div>
                  <div class="text-2xl">üìä</div>
                </div>
                <div class="flex items-end gap-3 mt-2">
                  <div id="kpi30" class="text-3xl font-extrabold text-emerald-300">‚Äî</div>
                  <div id="kpi30Delta" class="text-xs text-slate-400 mb-1">‚Äî</div>
                </div>
                <canvas id="spark30" height="32" class="mt-3"></canvas>
              </div>
            </div>
          </section>

          <!-- ============================================ -->
          <!-- SE√á√ÉO 2: DISTRIBUI√á√ïES E CATEGORIAS -->
          <!-- ============================================ -->
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-pink-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-pink-400 uppercase tracking-wider px-3">üìä Distribui√ß√µes e Categorias</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-pink-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-pink-300 mb-3">üìù Tipos de Manifesta√ß√£o</h3>
                <div class="text-xs text-slate-400 mb-3">Distribui√ß√£o por tipo</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartTiposManifestacao"></canvas>
                </div>
                <div id="tiposInfo" class="mb-3 p-3 bg-slate-800/50 rounded-lg text-center text-sm"></div>
                <div id="legendTiposManifestacao" class="space-y-2 max-h-[200px] overflow-y-auto text-xs"></div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-amber-300 mb-3">üìû Canais de Atendimento</h3>
                <div class="text-xs text-slate-400 mb-3">Distribui√ß√£o por canal</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartCanais"></canvas>
                </div>
                <div id="legendCanais" class="space-y-2 max-h-[200px] overflow-y-auto text-xs"></div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-red-300 mb-3">‚ö° Prioridades</h3>
                <div class="text-xs text-slate-400 mb-3">Distribui√ß√£o por n√≠vel de prioridade</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartPrioridades"></canvas>
                </div>
                <div id="legendPrioridades" class="space-y-2 max-h-[200px] overflow-y-auto text-xs"></div>
              </div>
            </div>
          </section>

          <!-- ============================================ -->
          <!-- SE√á√ÉO 3: RANKINGS E TOP PERFORMERS -->
          <!-- ============================================ -->
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-purple-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-purple-400 uppercase tracking-wider px-3">üèÜ Rankings e Top Performers</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-purple-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-cyan-300 mb-3">üèõÔ∏è Top √ìrg√£os</h3>
                <div class="text-xs text-slate-400 mb-3">Top 20 √≥rg√£os com mais manifesta√ß√µes</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTopOrgaos"></canvas>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-emerald-300 mb-3">üìë Top Temas</h3>
                <div class="text-xs text-slate-400 mb-3">Top 20 temas mais frequentes</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTopTemas"></canvas>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-indigo-300 mb-3">üìç Top Unidades de Cadastro</h3>
                <div class="text-xs text-slate-400 mb-3">Top 20 unidades com mais registros</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartUnidadesCadastro"></canvas>
                </div>
              </div>
            </div>
          </section>

          <!-- ============================================ -->
          <!-- SE√á√ÉO 4: STATUS E SLA -->
          <!-- ============================================ -->
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-violet-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-violet-400 uppercase tracking-wider px-3">üéØ Status e SLA</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-violet-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-violet-300 mb-3">üìä Funil por Status</h3>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartFunnelStatus"></canvas>
                </div>
                <div id="statusInfo" class="mb-3 p-3 bg-slate-800/50 rounded-lg text-center text-sm"></div>
                <div id="legendFunnelStatus" class="space-y-2 max-h-[250px] overflow-y-auto text-xs"></div>
              </div>
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-teal-300 mb-3">‚è±Ô∏è Status de SLA</h3>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartSLA"></canvas>
                </div>
                <div id="legendSLA" class="mb-3 space-y-2 max-h-[200px] overflow-y-auto text-xs"></div>
                <div id="slaInfo" class="p-3 bg-slate-800/50 rounded-lg text-sm"></div>
              </div>
            </div>
          </section>

          <!-- ============================================ -->
          <!-- SE√á√ÉO 5: AN√ÅLISE TEMPORAL -->
          <!-- ============================================ -->
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-blue-400 uppercase tracking-wider px-3">üìà An√°lise Temporal</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
                <h3 class="font-semibold text-cyan-300 mb-3">üìä Tend√™ncia Mensal (√öltimos 12 meses)</h3>
                <div class="rounded-xl overflow-visible bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartTrend"></canvas>
                </div>
                <div id="chartTrendInfo" class="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
                  <div class="text-center p-2 bg-slate-800/30 rounded-lg">
                    <div class="text-slate-400 text-xs mb-1">M√©dia</div>
                    <div id="trendMedia" class="text-cyan-300 font-bold">‚Äî</div>
                  </div>
                  <div class="text-center p-2 bg-slate-800/30 rounded-lg">
                    <div class="text-slate-400 text-xs mb-1">Total</div>
                    <div id="trendTotal" class="text-violet-300 font-bold">‚Äî</div>
                  </div>
                  <div class="text-center p-2 bg-slate-800/30 rounded-lg">
                    <div class="text-slate-400 text-xs mb-1">Maior</div>
                    <div id="trendMax" class="text-emerald-300 font-bold">‚Äî</div>
                  </div>
                  <div class="text-center p-2 bg-slate-800/30 rounded-lg">
                    <div class="text-slate-400 text-xs mb-1">Menor</div>
                    <div id="trendMin" class="text-rose-300 font-bold">‚Äî</div>
                  </div>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-cyan-300 mb-3">üìÖ Distribui√ß√£o Di√°ria (√öltimos 30 dias)</h3>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartDailyDistribution"></canvas>
                </div>
                <div id="dailyInfo" class="p-3 bg-slate-800/50 rounded-lg text-sm"></div>
              </div>
            </div>
          </section>

          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-emerald-400 uppercase tracking-wider px-3">üí° Insights</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 xl:col-span-8 glass rounded-2xl p-5">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="font-semibold text-emerald-300 text-lg">ü§ñ An√°lise Inteligente com IA</h3>
                  <button id="btnRefreshInsights" class="px-3 py-1.5 text-xs rounded-lg bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/30 transition-colors">
                    üîÑ Atualizar
                  </button>
                </div>
                <div id="insightsAIBox" class="space-y-3">
                  <div class="flex items-center justify-center py-4">
                    <div class="text-slate-400">Gerando insights...</div>
                  </div>
                </div>
              </div>
              <div class="col-span-12 xl:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold text-cyan-300 text-lg mb-4">üìä Status Atual</h3>
                <div id="statusOverviewCards" class="space-y-3">
                  <div class="text-center text-slate-400 py-4">Carregando...</div>
                </div>
              </div>
            </div>
          </section>
        </section>
        
        <!-- P√°gina: Por √ìrg√£o e M√™s -->
        <section id="page-orgao-mes" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="neon text-xl font-bold">Por √ìrg√£o e M√™s</h2>
              <div class="text-xs text-slate-400">An√°lise detalhada de manifesta√ß√µes</div>
            </div>
            
            <!-- KPIs Principais -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
              <div class="glass rounded-xl p-4 border border-cyan-500/20">
                <div class="text-xs text-slate-400 mb-1">Total de Manifesta√ß√µes</div>
                <div id="kpiTotalOrgaos" class="text-2xl font-bold text-cyan-300">‚Äî</div>
              </div>
              <div class="glass rounded-xl p-4 border border-violet-500/20">
                <div class="text-xs text-slate-400 mb-1">√ìrg√£os √önicos</div>
                <div id="kpiOrgaosUnicos" class="text-2xl font-bold text-violet-300">‚Äî</div>
              </div>
              <div class="glass rounded-xl p-4 border border-emerald-500/20">
                <div class="text-xs text-slate-400 mb-1">M√©dia por √ìrg√£o</div>
                <div id="kpiMediaOrgao" class="text-2xl font-bold text-emerald-300">‚Äî</div>
              </div>
              <div class="glass rounded-xl p-4 border border-amber-500/20">
                <div class="text-xs text-slate-400 mb-1">Per√≠odo Analisado</div>
                <div id="kpiPeriodo" class="text-lg font-bold text-amber-300">‚Äî</div>
              </div>
            </div>
          </header>
          
          <div class="grid grid-cols-12 gap-6 mb-6">
            <!-- Lista de √ìrg√£os -->
            <div class="col-span-12 lg:col-span-5 glass rounded-2xl p-5">
              <div class="flex items-center justify-between mb-4">
                <h3 class="font-semibold text-xl text-cyan-400">Manifesta√ß√µes por √ìrg√£o</h3>
                <div class="text-xs text-slate-400">Total: <span id="totalOrgaos" class="font-bold text-cyan-300">‚Äî</span></div>
              </div>
              
              <!-- Barra de Busca -->
              <div class="mb-4">
                <input 
                  type="text" 
                  id="searchOrgaos" 
                  placeholder="üîç Buscar √≥rg√£o..." 
                  class="w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"
                />
              </div>
              
              <!-- Controles de Ordena√ß√£o -->
              <div class="flex items-center gap-2 mb-4">
                <button 
                  id="btnSortOrgaos" 
                  class="px-3 py-1 text-xs bg-slate-800/50 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700/50 transition-colors"
                  onclick="toggleSortOrgaos()"
                >
                  Ordenar: <span id="sortMode">Maior ‚Üí Menor</span>
                </button>
                <button 
                  id="btnShowAllOrgaos" 
                  class="px-3 py-1 text-xs bg-slate-800/50 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700/50 transition-colors"
                  onclick="showAllOrgaos()"
                >
                  Mostrar Todos
                </button>
              </div>
              
              <div id="listaOrgaos" class="space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            
            <!-- Gr√°fico Mensal -->
            <div class="col-span-12 lg:col-span-7 glass rounded-2xl p-5">
              <div class="flex items-center justify-between mb-4">
                <h3 class="font-semibold text-xl text-violet-400">Manifesta√ß√µes por M√™s</h3>
                <div class="text-xs text-slate-400">
                  <span id="infoMensal">Clique em um m√™s para filtrar</span>
                </div>
              </div>
              
              <!-- Estat√≠sticas do Gr√°fico Mensal -->
              <div class="grid grid-cols-3 gap-3 mb-4">
                <div class="glass rounded-lg p-3 border border-violet-500/20">
                  <div class="text-xs text-slate-400 mb-1">M√™s com Mais</div>
                  <div id="mesMax" class="text-sm font-bold text-violet-300">‚Äî</div>
                </div>
                <div class="glass rounded-lg p-3 border border-violet-500/20">
                  <div class="text-xs text-slate-400 mb-1">M√™s com Menos</div>
                  <div id="mesMin" class="text-sm font-bold text-violet-300">‚Äî</div>
                </div>
                <div class="glass rounded-lg p-3 border border-violet-500/20">
                  <div class="text-xs text-slate-400 mb-1">M√©dia Mensal</div>
                  <div id="mesMedia" class="text-sm font-bold text-violet-300">‚Äî</div>
                </div>
              </div>
              
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-4">
                <canvas id="chartOrgaoMes"></canvas>
              </div>
              
              <!-- Legenda e Informa√ß√µes -->
              <div id="infoOrgaoMes" class="mt-4 p-3 bg-slate-800/50 rounded-lg text-xs text-slate-400">
                üí° Dica: Clique em um m√™s no gr√°fico para filtrar os dados por per√≠odo
              </div>
            </div>
          </div>
          
          <!-- Gr√°fico de Compara√ß√£o (Opcional) -->
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 glass rounded-2xl p-5">
              <h3 class="font-semibold text-lg text-amber-400 mb-4">Top 10 √ìrg√£os</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-4">
                <canvas id="chartTopOrgaosBar"></canvas>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Tempo M√©dio -->
        <section id="page-tempo-medio" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
            <h2 class="neon text-xl font-bold">Tempo M√©dio de Atendimento / Dias</h2>
            </div>
            <div class="mt-4">
              <label for="selectMesTempoMedio" class="block text-sm font-medium text-slate-300 mb-2">
                Filtrar por m√™s:
              </label>
              <select 
                id="selectMesTempoMedio" 
                class="w-full md:w-64 px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"
              >
                <option value="">Todos os meses</option>
              </select>
            </div>
          </header>
          
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-2">M√©dia Geral</div>
              <div id="statMedia" class="text-3xl font-extrabold text-cyan-300">‚Äî</div>
              <div class="text-xs text-slate-500 mt-1">dias</div>
            </div>
            <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-2">Mediana</div>
              <div id="statMediana" class="text-3xl font-extrabold text-purple-300">‚Äî</div>
              <div class="text-xs text-slate-500 mt-1">dias</div>
            </div>
            <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-2">M√≠nimo</div>
              <div id="statMinimo" class="text-3xl font-extrabold text-emerald-300">‚Äî</div>
              <div class="text-xs text-slate-500 mt-1">dias</div>
            </div>
            <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-2">M√°ximo</div>
              <div id="statMaximo" class="text-3xl font-extrabold text-red-300">‚Äî</div>
              <div class="text-xs text-slate-500 mt-1">dias</div>
            </div>
          </div>

          <!-- Gr√°fico Principal e Ranking -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Tempo M√©dio por √ìrg√£o/Unidade</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartTempoMedio"></canvas>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Ranking</h3>
              <div id="listaTempoMedio" class="space-y-2 max-h-[500px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
          </div>

          <!-- Tend√™ncias Temporais -->
          <div class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-blue-400 uppercase tracking-wider px-3">üìà Tend√™ncias Temporais</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold mb-3 text-cyan-400">Tend√™ncia Di√°ria</h3>
                <div class="text-xs text-slate-400 mb-3">√öltimos 30 dias</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTempoMedioDia"></canvas>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold mb-3 text-cyan-400">Tend√™ncia Semanal</h3>
                <div class="text-xs text-slate-400 mb-3">√öltimas 12 semanas</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTempoMedioSemana"></canvas>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
                <h3 class="font-semibold mb-3 text-cyan-400">Tend√™ncia Mensal</h3>
                <div class="text-xs text-slate-400 mb-3">√öltimos 12 meses</div>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTempoMedioMes"></canvas>
                </div>
              </div>
            </div>
          </div>

          <!-- An√°lise por Unidade -->
          <div class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-violet-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-violet-400 uppercase tracking-wider px-3">üè¢ An√°lise por Unidade</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-violet-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold mb-3 text-violet-400">Tempo M√©dio por Unidade de Cadastro</h3>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                  <canvas id="chartTempoMedioUnidade"></canvas>
                </div>
              </div>
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold mb-3 text-emerald-400">Tempo M√©dio por Unidade de Cadastro por M√™s</h3>
                <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                  <canvas id="chartTempoMedioUnidadeMes"></canvas>
                </div>
                <div id="legendTempoMedioUnidadeMes" class="space-y-2 max-h-[200px] overflow-y-auto text-xs"></div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Vencimento -->
        <section id="page-vencimento" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="neon text-xl font-bold">‚è∞ Protocolos Pr√≥ximos de Vencer</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
              <div>
                <label for="selectFiltroVencimento" class="block text-sm font-medium text-slate-300 mb-2">
                  Filtrar por prazo:
                </label>
                <select 
                  id="selectFiltroVencimento" 
                  class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"
                >
                  <option value="vencidos">Vencidos</option>
                  <option value="3">Vencendo em at√© 3 dias</option>
                  <option value="7">Vencendo em at√© 7 dias</option>
                  <option value="15">Vencendo em at√© 15 dias</option>
                  <option value="30">Vencendo em at√© 30 dias</option>
                </select>
              </div>
              <div>
                <label for="selectSecretariaVencimento" class="block text-sm font-medium text-slate-300 mb-2">
                  Filtrar por secretaria:
                </label>
                <select 
                  id="selectSecretariaVencimento" 
                  class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"
                >
                  <option value="">Todas as secretarias</option>
                </select>
              </div>
              <div class="text-right">
                <div class="text-sm text-slate-400 mb-1">Total de protocolos</div>
                <div class="text-3xl font-extrabold text-cyan-300">
                  <span id="counterVencimento">0</span>
                </div>
                <div class="text-xs text-slate-500 mt-1">
                  <span id="filtroLabelVencimento">vencidos</span>
                </div>
              </div>
            </div>
          </header>
          
          <div class="glass rounded-2xl p-6">
            <div class="mb-4">
              <h3 class="font-semibold text-lg text-cyan-400 mb-2">Lista de Protocolos</h3>
              <p class="text-sm text-slate-400">
                Protocolos n√£o conclu√≠dos com prazo de vencimento pr√≥ximo ou j√° vencidos.
                <br>
                <span class="text-xs">Ouvidoria: 30 dias | SIC: 20 dias</span>
              </p>
            </div>
            <div id="tableVencimento" class="overflow-x-auto">
              <div class="text-center py-8 text-slate-400">
                <div class="text-2xl mb-2 animate-spin">‚è≥</div>
                <div>Carregando protocolos...</div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Por Tema -->
        <section id="page-tema" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Manifesta√ß√µes por Tema</h2>
          </header>
          
          <!-- Gr√°ficos Principais -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Distribui√ß√£o por Tema</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartTema"></canvas>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Status Geral</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartStatusTema"></canvas>
              </div>
              <div id="legendStatusTema" class="space-y-2 max-h-[250px] overflow-y-auto text-xs"></div>
            </div>
          </div>

          <!-- An√°lise Temporal -->
          <div class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-blue-400 uppercase tracking-wider px-3">üìà An√°lise Temporal</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
            </div>
            <div class="glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Temas por M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartTemaMes"></canvas>
              </div>
              <div id="legendTemaMes" class="space-y-2 text-xs"></div>
            </div>
          </div>

          <!-- Lista Completa -->
          <div class="glass rounded-2xl p-5">
            <h3 class="font-semibold mb-3 text-violet-400">Lista Completa de Temas</h3>
            <div id="listaTemas" class="space-y-2 max-h-[500px] overflow-y-auto">
              <div class="text-center text-slate-400 py-4">Carregando...</div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Por Assunto -->
        <section id="page-assunto" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Total por Assunto</h2>
          </header>
          
          <!-- Gr√°ficos Principais -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Top 15 Assuntos</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartAssunto"></canvas>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Status</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartStatusAssunto"></canvas>
              </div>
              <div id="legendStatusAssunto" class="space-y-2 max-h-[250px] overflow-y-auto text-xs"></div>
            </div>
          </div>

          <!-- An√°lise Temporal -->
          <div class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-blue-400 uppercase tracking-wider px-3">üìà An√°lise Temporal</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
            </div>
            <div class="glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Assuntos por M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartAssuntoMes"></canvas>
              </div>
              <div id="legendAssuntoMes" class="space-y-2 text-xs"></div>
            </div>
          </div>

          <!-- Lista Completa -->
          <div class="glass rounded-2xl p-5">
            <h3 class="font-semibold mb-3 text-emerald-400">Lista Completa de Assuntos</h3>
            <div id="listaAssuntos" class="space-y-2 max-h-[500px] overflow-y-auto">
              <div class="text-center text-slate-400 py-4">Carregando...</div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Tipos -->
        <section id="page-tipo" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Tipos de Manifesta√ß√£o</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Distribui√ß√£o por Tipo</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartTipo"></canvas>
              </div>
              <div id="legendTipo" class="space-y-2 max-h-[300px] overflow-y-auto text-xs"></div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Top Tipos (Rank)</h3>
              <ul id="rankTipo" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Setor -->
        <section id="page-setor" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">An√°lise por Setor/Departamento</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Registros por Setor</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartSetor"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Top 10 Unidades de Cadastro (Rank)</h3>
              <ul id="rankSetor" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: UAC -->
        <section id="page-uac" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Unidades de Atendimento ao Cidad√£o (UAC)</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Total por UAC</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartUAC"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Top 10 UACs (Rank)</h3>
              <ul id="rankUAC" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Respons√°veis -->
        <section id="page-responsavel" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Respons√°veis pelo Tratamento da Demanda</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Distribui√ß√£o por Respons√°vel</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartResponsavel"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Top Respons√°veis (Rank)</h3>
              <ul id="rankResponsavel" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Canal -->
        <section id="page-canal" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Canais de Atendimento</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Distribui√ß√£o por Canal</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartCanal"></canvas>
              </div>
              <div id="legendCanal" class="space-y-2 max-h-[300px] overflow-y-auto text-xs"></div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-emerald-400">Top Canais (Rank)</h3>
              <ul id="rankCanal" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Prioridade -->
        <section id="page-prioridade" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Prioridades das Demandas</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-rose-400">Distribui√ß√£o por Prioridade</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartPrioridade"></canvas>
              </div>
              <div id="legendPrioridade" class="space-y-2 max-h-[300px] overflow-y-auto text-xs"></div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-rose-400">Ranking de Prioridades</h3>
              <ul id="rankPrioridade" class="space-y-2"></ul>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Categoria -->
        <section id="page-categoria" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Tema</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-fuchsia-400">Top Temas</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartCategoria"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-fuchsia-400">Categorias por M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartCategoriaMes"></canvas>
              </div>
              <div id="legendCategoriaMes" class="space-y-2 text-xs"></div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Status -->
        <section id="page-status" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Status</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-sky-400">Distribui√ß√£o por Status</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartStatusPage"></canvas>
              </div>
              <div id="legendStatusPage" class="space-y-2 max-h-[300px] overflow-y-auto text-xs"></div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-sky-400">Status por M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartStatusMes"></canvas>
              </div>
              <div id="legendStatusMes" class="space-y-2 text-xs"></div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Bairro -->
        <section id="page-bairro" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">An√°lise por Bairro</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-amber-400">Top 15 Bairros</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartBairro"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-amber-400">Bairros por M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3 mb-3">
                <canvas id="chartBairroMes"></canvas>
              </div>
              <div id="legendBairroMes" class="space-y-2 text-xs"></div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Por Cadastrante -->
        <section id="page-cadastrante" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Por Cadastrante / Unidade</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Por Servidor</h3>
              <div id="listaServidores" class="space-y-2 max-h-[600px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Unidades de Cadastro</h3>
              <div id="listaUnidadesCadastro" class="space-y-2 max-h-[600px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-violet-400">Filtro / M√™s</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartCadastranteMes"></canvas>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5 text-center" style="background: linear-gradient(135deg, rgba(34,211,238,0.15), rgba(167,139,250,0.15));">
              <div class="text-sm text-slate-400 mb-2">Manifesta√ß√µes</div>
              <div id="totalCadastrante" class="text-6xl font-extrabold text-cyan-300 mb-2">‚Äî</div>
              <div class="text-xs text-slate-400">TOTAL CADASTRADAS AT√â O MOMENTO</div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Reclama√ß√µes -->
        <section id="page-reclamacoes" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Reclama√ß√µes e Den√∫ncias</h2>
          </header>
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-rose-400">Lista de Assuntos</h3>
              <div id="listaReclamacoes" class="space-y-2 max-h-[500px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-rose-400">Tipos de A√ß√£o</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartReclamacoesTipo"></canvas>
              </div>
            </div>
          </div>
          <div class="glass rounded-2xl p-5">
            <h3 class="font-semibold mb-3 text-rose-400">Reclama√ß√µes por M√™s</h3>
            <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
              <canvas id="chartReclamacoesMes"></canvas>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Secretarias -->
        <section id="page-secretaria" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Secretarias</h2>
          </header>
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Distribui√ß√£o por Secretaria</h3>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartSecretaria"></canvas>
              </div>
            </div>
            <div class="col-span-12 md:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Top Secretarias (Rank)</h3>
              <ul id="rankSecretaria" class="space-y-2"></ul>
            </div>
          </div>
          <div class="glass rounded-2xl p-5">
            <h3 class="font-semibold mb-3 text-cyan-400">Secretarias por M√™s</h3>
            <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
              <canvas id="chartSecretariaMes"></canvas>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Secretarias e Distritos -->
        <section id="page-secretarias-distritos" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">Secretarias e Distritos</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-3 text-cyan-400">Distritos</h3>
              <div id="listaDistritos" class="space-y-2 max-h-[600px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <div class="flex items-center justify-between mb-3">
                <h3 class="font-semibold text-violet-400">Distribui√ß√£o de Secretarias por Distrito</h3>
                <div id="distritoSelecionadoNome" class="text-sm text-slate-400"></div>
              </div>
              <div class="rounded-xl overflow-hidden bg-slate-900/30 p-3">
                <canvas id="chartSecretariasDistritos"></canvas>
              </div>
            </div>
            <div class="col-span-12">
              <div id="estatisticasDistritos" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="text-center text-slate-400 py-4">Carregando estat√≠sticas...</div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Proje√ß√£o 2026 -->
        <section id="page-projecao-2026" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">üìà Proje√ß√£o 2026</h2>
            <p class="text-slate-400 text-sm mt-2">An√°lise de tend√™ncias e proje√ß√µes baseadas em dados hist√≥ricos com c√°lculo de sazonalidade e crescimento real</p>
          </header>
          
          <!-- KPIs Principais -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-1">Total Hist√≥rico</div>
              <div id="totalHistorico" class="text-2xl font-bold text-cyan-300">‚Äî</div>
            </div>
            <div class="col-span-12 lg:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-1">Total Projetado 2026</div>
              <div id="totalProjetado" class="text-2xl font-bold text-violet-300">‚Äî</div>
            </div>
            <div class="col-span-12 lg:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-1">M√©dia Mensal</div>
              <div id="mediaMensal" class="text-2xl font-bold text-emerald-300">‚Äî</div>
            </div>
            <div class="col-span-12 lg:col-span-3 glass rounded-2xl p-5">
              <div class="text-slate-400 text-sm mb-1">Crescimento Anual</div>
              <div id="crescimentoAnual" class="text-2xl font-bold text-emerald-300">‚Äî</div>
              <div id="tendencia" class="text-xs text-slate-400 mt-1">‚Äî</div>
            </div>
          </div>
          
          <!-- Gr√°ficos Principais -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">üìä Tend√™ncia Mensal (Hist√≥rico + Proje√ß√£o)</h3>
              <p class="text-slate-400 text-xs mb-4">Evolu√ß√£o hist√≥rica e proje√ß√£o para 2026 baseada em an√°lise de tend√™ncia e sazonalidade</p>
              <canvas id="chartProjecaoMensal"></canvas>
              <div id="legendProjecaoMensal" class="mt-4 space-y-2"></div>
            </div>
          </div>
          
          <!-- An√°lise de Crescimento e Sazonalidade -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-violet-400">üìà Crescimento Percentual M√™s a M√™s</h3>
              <p class="text-slate-400 text-xs mb-4">Varia√ß√£o percentual entre meses consecutivos (hist√≥rico e proje√ß√£o)</p>
              <canvas id="chartCrescimentoPercentual"></canvas>
              </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-emerald-400">üìÖ Sazonalidade Mensal</h3>
              <p class="text-slate-400 text-xs mb-4">Padr√£o sazonal identificado nos dados hist√≥ricos (100% = m√©dia mensal)</p>
              <canvas id="chartSazonalidade"></canvas>
            </div>
          </div>
          
          <!-- Compara√ß√£o Anual -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">üìä Compara√ß√£o Anual: M√©dia Hist√≥rica vs Proje√ß√£o 2026</h3>
              <p class="text-slate-400 text-xs mb-4">Compara√ß√£o m√™s a m√™s entre a m√©dia hist√≥rica e a proje√ß√£o para 2026</p>
              <canvas id="chartComparacaoAnual"></canvas>
              <div id="legendComparacaoAnual" class="mt-4 space-y-2"></div>
            </div>
          </div>
          
          <!-- Proje√ß√µes por Categoria -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-violet-400">üéØ Proje√ß√£o por Tema (Top 10)</h3>
              <p class="text-slate-400 text-xs mb-4">Proje√ß√£o anual para 2026 baseada nos temas mais frequentes</p>
              <canvas id="chartProjecaoTema"></canvas>
                </div>
            <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">üìã Proje√ß√£o por Tipo</h3>
              <p class="text-slate-400 text-xs mb-4">Distribui√ß√£o projetada por tipo de manifesta√ß√£o em 2026</p>
              <canvas id="chartProjecaoTipo"></canvas>
              <div id="legendProjecaoTipo" class="mt-4 space-y-2"></div>
                </div>
                </div>
          
          <!-- Rankings e Listas -->
          <div class="grid grid-cols-12 gap-6 mb-6">
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-violet-400">üèÜ Top Temas</h3>
              <div id="listaTemasProjecao" class="space-y-2 max-h-[400px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">üìã Top Tipos</h3>
              <div id="listaTiposProjecao" class="space-y-2 max-h-[400px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-emerald-400">üèõÔ∏è Top √ìrg√£os</h3>
              <div id="listaOrgaosProjecao" class="space-y-2 max-h-[400px] overflow-y-auto">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
          </div>
          
          <!-- KPIs Detalhados -->
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-emerald-400">üìä Indicadores Detalhados</h3>
              <div id="kpisProjecao" class="space-y-4">
                <div class="text-center text-slate-400 py-4">Carregando...</div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina: Cora Chat -->
        <section id="page-cora-chat" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h2 class="neon text-xl font-bold">üí¨ Cora - Assistente Virtual</h2>
          </header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 glass rounded-2xl p-5">
              <div class="flex flex-col h-[600px]">
                <div id="chatMessages" class="flex-1 overflow-y-auto mb-4 space-y-4 p-4 bg-slate-900/30 rounded-lg">
                  <div class="text-center text-slate-400 py-4">Carregando mensagens...</div>
                </div>
                <form id="chatForm" class="flex gap-2">
                  <input 
                    type="text" 
                    id="chatInput" 
                    placeholder="Digite sua mensagem..." 
                    class="flex-1 bg-slate-800/60 border border-white/10 rounded-lg px-4 py-2 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"
                    autocomplete="off"
                  />
                  <button 
                    type="button" 
                    id="chatSubmitBtn"
                    class="px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg text-white font-semibold hover:from-purple-600 hover:to-pink-600 transition-all glow-ring"
                  >
                    Enviar
                  </button>
                </form>
              </div>
            </div>
          </div>
        </section>
        
        <!-- P√°gina Unificada de Unidades de Sa√∫de -->
        <section id="page-unidades-saude" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="neon text-xl font-bold">üè• Unidades de Sa√∫de</h2>
            </div>
            <div class="mt-4">
              <label for="selectUnidade" class="block text-sm font-medium text-slate-300 mb-2">
                Selecione uma unidade de sa√∫de:
              </label>
              <select 
                id="selectUnidade" 
                class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"
              >
                <option value="" disabled selected>Carregando unidades...</option>
              </select>
            </div>
          </header>
          <div id="unidadeConteudo">
            <div class="glass rounded-2xl p-12 text-center">
              <div class="text-6xl mb-4">üè•</div>
              <h3 class="text-xl font-semibold text-slate-300 mb-2">Selecione uma Unidade de Sa√∫de</h3>
              <p class="text-slate-400">Use o menu acima para escolher uma unidade e visualizar seus dados</p>
            </div>
          </div>
        </section>
        
        <!-- P√°ginas de Unidades de Sa√∫de (Din√¢micas) - OBSOLETAS (mantidas para compatibilidade) -->
        <!-- Estas p√°ginas s√£o criadas dinamicamente via loadUnit() ou pr√©-definidas abaixo -->
        <section id="page-unit-adao" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital Ad√£o</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-cer-iv" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos CER IV</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-hospital-olho" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital do Olho</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-hospital-duque" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital Duque</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-hospital-infantil" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital Infantil</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-hospital-moacyr" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital Moacyr</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-maternidade-santa-cruz" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Maternidade Santa Cruz</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-upa-beira-mar" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPA Beira Mar</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-pilar" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Pilar</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-saracuruna" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Saracuruna</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-xerem" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Xer√©m</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-hospital-veterinario" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos Hospital Veterin√°rio</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-upa-walter-garcia" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPA Walter Garcia</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-campos-eliseos" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Campos El√≠seos</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-parque-equitativa" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Parque Equitativa</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-ubs-antonio-granja" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UBS Antonio Granja</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-upa-sarapui" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPA Sarapu√≠</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        <section id="page-unit-uph-imbarie" class="unit-page" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6"><h2 class="neon text-xl font-bold">Total de Assuntos UPH Imbari√™</h2></header>
          <div class="grid grid-cols-12 gap-6">
            <div class="col-span-12 lg:col-span-8 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Assuntos</h3>
              <div class="unit-assuntos space-y-2 max-h-[600px] overflow-y-auto"></div>
            </div>
            <div class="col-span-12 lg:col-span-4 glass rounded-2xl p-5">
              <h3 class="font-semibold mb-4 text-cyan-400">Record Count por Tipo de A√ß√£o</h3>
              <canvas class="unit-tipos"></canvas>
            </div>
          </div>
        </section>
        
        <!-- P√°ginas de Zeladoria -->
        <section id="page-zeladoria-home" style="display: none;">
          <div class="glass rounded-2xl p-8 md:p-12 text-center">
            <div class="mb-8">
              <div class="inline-block relative">
                <div class="w-32 h-32 md:w-40 md:h-40 mx-auto rounded-full bg-gradient-to-br from-cyan-400 via-purple-500 to-pink-500 flex items-center justify-center text-6xl md:text-7xl">
                  üèóÔ∏è
                </div>
              </div>
            </div>
            
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4 neon">
              Zeladoria Municipal
            </h1>
            <h2 class="text-2xl md:text-4xl font-bold text-cyan-300 mb-8">
              Gest√£o de Servi√ßos Urbanos
            </h2>
            
            <p class="text-lg md:text-xl text-slate-300 mb-12 max-w-3xl mx-auto">
              Dashboard completo para an√°lise e gest√£o dos servi√ßos de zeladoria e manuten√ß√£o urbana
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">üìä</div>
                <h3 class="text-xl font-bold text-cyan-300 mb-2">An√°lises Detalhadas</h3>
                <p class="text-sm text-slate-400">
                  Visualize dados por status, categoria, departamento e muito mais
                </p>
              </div>
              
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">üó∫Ô∏è</div>
                <h3 class="text-xl font-bold text-purple-300 mb-2">An√°lise Geogr√°fica</h3>
                <p class="text-sm text-slate-400">
                  Mapeamento de ocorr√™ncias por bairro e localiza√ß√£o
                </p>
              </div>
              
              <div class="glass rounded-xl p-6 hover:scale-105 transition-transform duration-100">
                <div class="text-4xl mb-4">‚è±Ô∏è</div>
                <h3 class="text-xl font-bold text-pink-300 mb-2">Tempo de Resolu√ß√£o</h3>
                <p class="text-sm text-slate-400">
                  Acompanhe o tempo m√©dio de resolu√ß√£o dos servi√ßos
                </p>
              </div>
            </div>
          </div>
        </section>
        
        <section id="page-zeladoria-overview" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">Vis√£o Geral ‚Ä¢ Zeladoria</h1>
          </header>
          
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-cyan-400 uppercase tracking-wider px-3">üìä Indicadores Principais</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
                <div class="text-slate-400 text-sm font-medium mb-2">Total de Ocorr√™ncias</div>
                <div id="zeladoria-kpi-total" class="text-3xl font-extrabold text-cyan-300">‚Äî</div>
              </div>
              <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
                <div class="text-slate-400 text-sm font-medium mb-2">Fechados</div>
                <div id="zeladoria-kpi-fechados" class="text-3xl font-extrabold text-emerald-300">‚Äî</div>
              </div>
              <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
                <div class="text-slate-400 text-sm font-medium mb-2">Em Aberto</div>
                <div id="zeladoria-kpi-abertos" class="text-3xl font-extrabold text-amber-300">‚Äî</div>
              </div>
              <div class="col-span-12 md:col-span-3 glass rounded-2xl p-5">
                <div class="text-slate-400 text-sm font-medium mb-2">Tempo M√©dio (dias)</div>
                <div id="zeladoria-kpi-tempo" class="text-3xl font-extrabold text-violet-300">‚Äî</div>
              </div>
            </div>
          </section>
          
          <section class="mb-6">
            <div class="flex items-center gap-2 mb-4">
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
              <h2 class="text-sm font-semibold text-blue-400 uppercase tracking-wider px-3">üìà An√°lises</h2>
              <div class="h-px flex-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"></div>
            </div>
            <div class="grid grid-cols-12 gap-6">
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-cyan-300 mb-4">üìä Por Status</h3>
                <canvas id="zeladoria-chart-status"></canvas>
              </div>
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-violet-300 mb-4">üìÇ Por Categoria</h3>
                <canvas id="zeladoria-chart-categoria"></canvas>
              </div>
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-emerald-300 mb-4">üè¢ Por Departamento</h3>
                <canvas id="zeladoria-chart-departamento"></canvas>
              </div>
              <div class="col-span-12 lg:col-span-6 glass rounded-2xl p-5">
                <h3 class="font-semibold text-amber-300 mb-4">üìÖ Tend√™ncia Mensal</h3>
                <canvas id="zeladoria-chart-mensal"></canvas>
              </div>
            </div>
          </section>
        </section>
        
        <section id="page-zeladoria-status" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Status ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-status-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-categoria" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Categoria ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-categoria-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-departamento" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Departamento ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-departamento-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-bairro" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Bairro ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-bairro-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-responsavel" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Respons√°vel ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-responsavel-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-canal" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise por Canal ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-canal-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-tempo" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">Tempo de Resolu√ß√£o ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-tempo-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-mensal" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise Mensal ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <canvas id="zeladoria-mensal-chart"></canvas>
          </div>
        </section>
        
        <section id="page-zeladoria-geografica" style="display: none;">
          <header class="glass rounded-2xl p-6 mb-6">
            <h1 class="text-xl md:text-2xl font-bold neon">An√°lise Geogr√°fica ‚Ä¢ Zeladoria</h1>
          </header>
          <div class="glass rounded-2xl p-5 mb-6">
            <div id="zeladoria-geografica-content">
              <p class="text-slate-400">Carregando dados geogr√°ficos...</p>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Scripts -->
    <script src="/scripts/utils/lazy-libraries.js"></script>
    <script src="/scripts/utils/logger.js"></script>
    <script src="/scripts/utils/timerManager.js"></script>
    <script src="/scripts/utils/dateUtils.js" defer></script>
    <script src="/scripts/core/config.js"></script>
    <script src="/scripts/core/dataLoader.js"></script>
    <script src="/scripts/core/global-store.js" defer></script>
    <script src="/scripts/core/chart-communication.js" defer></script>
    <script src="/scripts/core/chart-legend.js" defer></script>
    <script src="/scripts/core/chart-factory.js" defer></script>
    <script src="/scripts/modules/data-tables.js" defer></script>
    <script src="/scripts/pages/overview.js" defer></script>
    <script src="/scripts/pages/orgao-mes.js" defer></script>
    <script src="/scripts/pages/tempo-medio.js" defer></script>
    <script src="/scripts/pages/vencimento.js" defer></script>
    <script src="/scripts/pages/tema.js" defer></script>
    <script src="/scripts/pages/assunto.js" defer></script>
    <script src="/scripts/pages/tipo.js" defer></script>
    <script src="/scripts/pages/setor.js" defer></script>
    <script src="/scripts/pages/categoria.js" defer></script>
    <script src="/scripts/pages/status.js" defer></script>
    <script src="/scripts/pages/bairro.js" defer></script>
    <script src="/scripts/pages/uac.js" defer></script>
    <script src="/scripts/pages/responsavel.js" defer></script>
    <script src="/scripts/pages/canal.js" defer></script>
    <script src="/scripts/pages/prioridade.js" defer></script>
    <script src="/scripts/pages/cadastrante.js" defer></script>
    <script src="/scripts/pages/reclamacoes.js" defer></script>
    <script src="/scripts/pages/secretaria.js" defer></script>
    <script src="/scripts/pages/secretarias-distritos.js" defer></script>
    <script src="/scripts/pages/projecao-2026.js" defer></script>
    <script src="/scripts/pages/cora-chat.js" defer></script>
    <script src="/scripts/pages/unidades-saude.js" defer></script>
    <script src="/scripts/pages/unit.js" defer></script>
    <script src="/scripts/utils/generate-unit-pages.js" defer></script>
    <script src="/scripts/pages/zeladoria-overview.js" defer></script>
    <script src="/scripts/pages/zeladoria-status.js" defer></script>
    <script src="/scripts/pages/zeladoria-categoria.js" defer></script>
    <script src="/scripts/pages/zeladoria-departamento.js" defer></script>
    <script src="/scripts/pages/zeladoria-bairro.js" defer></script>
    <script src="/scripts/pages/zeladoria-responsavel.js" defer></script>
    <script src="/scripts/pages/zeladoria-canal.js" defer></script>
    <script src="/scripts/pages/zeladoria-tempo.js" defer></script>
    <script src="/scripts/pages/zeladoria-mensal.js" defer></script>
    <script src="/scripts/pages/zeladoria-geografica.js" defer></script>
    <script src="/scripts/main.js"></script>
    
    <!-- Tratamento global de promises n√£o tratadas -->
    <script>
      // Capturar promises n√£o tratadas para evitar erros silenciosos
      window.addEventListener('unhandledrejection', (event) => {
        // Ignorar erros de extens√µes do navegador
        if (event.reason && (
          event.reason.message?.includes('message channel closed') ||
          event.reason.message?.includes('Extension context invalidated') ||
          event.reason.message?.includes('Receiving end does not exist')
        )) {
          event.preventDefault(); // Previne o erro no console
          return;
        }
        
        // Logar outros erros n√£o tratados
        if (window.Logger) {
          window.Logger.error('Promise rejeitada n√£o tratada:', event.reason);
        } else {
          console.error('Promise rejeitada n√£o tratada:', event.reason);
        }
      });
      
      // Capturar erros globais
      window.addEventListener('error', (event) => {
        // Ignorar erros de extens√µes do navegador
        if (event.message && (
          event.message.includes('message channel closed') ||
          event.message.includes('Extension context invalidated') ||
          event.message.includes('Receiving end does not exist')
        )) {
          event.preventDefault();
          return;
        }
      });
    </script>
  </body>
</html>

